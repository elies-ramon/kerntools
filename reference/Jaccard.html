<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Kernels for sets — Jaccard • kerntools</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Kernels for sets — Jaccard"><meta name="description" content="`Intersect()` or `Jaccard()` compute the kernel functions of the same name,
which are useful for set data. Their input is a matrix or data.frame with
dimension NxD, where N&amp;gt;1, D&amp;gt;0. Samples should be in the
rows and features in the columns. When there is a single feature,
`Jaccard()` returns 1 if the elements of the set are exactly the same in
two given samples, and 0 if they are completely different (see Details). Instead,
in the multivariate case (D&amp;gt;1), the results (for both `Intersect()` and
`Jaccard()`) of the D features are combined with a sum, a mean, or a
weighted mean."><meta property="og:description" content="`Intersect()` or `Jaccard()` compute the kernel functions of the same name,
which are useful for set data. Their input is a matrix or data.frame with
dimension NxD, where N&amp;gt;1, D&amp;gt;0. Samples should be in the
rows and features in the columns. When there is a single feature,
`Jaccard()` returns 1 if the elements of the set are exactly the same in
two given samples, and 0 if they are completely different (see Details). Instead,
in the multivariate case (D&amp;gt;1), the results (for both `Intersect()` and
`Jaccard()`) of the D features are combined with a sum, a mean, or a
weighted mean."><meta property="og:image" content="https://elies-ramon.github.io/kerntools/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">kerntools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/kerntools.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/elies-ramon/kerntools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Kernels for sets</h1>
      <small class="dont-index">Source: <a href="https://github.com/elies-ramon/kerntools/blob/master/R/kernel_functions.R" class="external-link"><code>R/kernel_functions.R</code></a></small>
      <div class="d-none name"><code>Jaccard.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>`Intersect()` or `Jaccard()` compute the kernel functions of the same name,
which are useful for set data. Their input is a matrix or data.frame with
dimension <em>NxD</em>, where <em>N</em>&gt;1, <em>D</em>&gt;0. Samples should be in the
rows and features in the columns. When there is a single feature,
`Jaccard()` returns 1 if the elements of the set are exactly the same in
two given samples, and 0 if they are completely different (see Details). Instead,
in the multivariate case (<em>D</em>&gt;1), the results (for both `Intersect()` and
`Jaccard()`) of the <em>D</em> features are combined with a sum, a mean, or a
weighted mean.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">Jaccard</span><span class="op">(</span><span class="va">X</span>, elements <span class="op">=</span> <span class="va">LETTERS</span>, comp <span class="op">=</span> <span class="st">"mean"</span>, coeff <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">Intersect</span><span class="op">(</span></span>
<span>  <span class="va">X</span>,</span>
<span>  elements <span class="op">=</span> <span class="va">LETTERS</span>,</span>
<span>  comp <span class="op">=</span> <span class="st">"mean"</span>,</span>
<span>  coeff <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  feat_space <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">X<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Matrix (class "character") or data.frame (class "character", or columns = "factor").
The elements in X are assumed to be categorical in nature.</p></dd>


<dt id="arg-elements">elements<a class="anchor" aria-label="anchor" href="#arg-elements"></a></dt>
<dd><p>All potential elements (symbols) that can appear in the sets. If there are
some elements that are not of interest, they can be excluded so they are not
taken into account by these kernels. (Defaults: LETTERS).</p></dd>


<dt id="arg-comp">comp<a class="anchor" aria-label="anchor" href="#arg-comp"></a></dt>
<dd><p>When <em>D</em>&gt;1, this argument indicates how the variables
of the dataset are combined. Options are: "mean", "sum" and "weighted". (Defaults: "mean")</p><ul><li><p>"sum" gives the same importance to all variables, and returns an
  unnormalized kernel matrix.</p></li>
<li><p>"mean" gives the same importance to all variables, and returns a
  normalized kernel matrix (all its elements range between 0 and 1).</p></li>
<li><p>"weighted" weights each variable according to the `coeff` parameter, and returns a
  normalized kernel matrix.</p></li>
</ul></dd>


<dt id="arg-coeff">coeff<a class="anchor" aria-label="anchor" href="#arg-coeff"></a></dt>
<dd><p>(optional) A vector of weights with length <em>D</em>.</p></dd>


<dt id="arg-feat-space">feat_space<a class="anchor" aria-label="anchor" href="#arg-feat-space"></a></dt>
<dd><p>(not available for the Jaccard kernel). If FALSE, only the
kernel matrix is returned. Otherwise, the feature space is returned too. (Defaults: FALSE).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Kernel matrix (dimension: <em>NxN</em>), or a list with the kernel matrix and the
feature space.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Let \(A,B\) be two sets. Then, the Intersect
kernel is defined as:</p>
<p>$$K_{Intersect}(A,B)=|A \cap B| $$</p>
<p>And the Jaccard kernel is defined as:</p>
<p>$$K_{Jaccard}(A,B)=|A \cap B| / |A \cup B|$$</p>
<p>This specific implementation of the Intersect and Jaccard kernels expects
that the set members (elements) are character symbols (length=1). In case the
set data is multivariate (<em>D</em>&gt;1 columns, and each one contains a set feature),
elements for the <em>D</em> sets should come from the same domain (universe).
For instance, a dataset with two variables, so the elements
in the first one are colors c("green","black","white","red") and the second are names
c("Anna","Elsa","Maria") is not allowed. In that case, set factors should be recoded
to colors c("g","b","w","r") and names c("A","E","M") and, if necessary, 'Intersect()'
(or `Jaccard()`) should be called twice.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Bouchard, M., Jousselme, A. L., and Doré, P. E. (2013).
A proof for the positive definiteness of the Jaccard index matrix.
International Journal of Approximate Reasoning, 54(5), 615-626.</p>
<p>Ruiz, F., Angulo, C., and Agell, N. (2008).
Intersection and Signed-Intersection Kernels for Intervals.
Frontiers in Artificial Intelligence and Applications. 184. 262-270.
doi: 10.3233/978-1-58603-925-7-262.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Sets data</span></span></span>
<span class="r-in"><span><span class="co">## Generating a dataset with sets containing uppercase letters</span></span></span>
<span class="r-in"><span><span class="va">random_set</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">LETTERS</span>,<span class="va">x</span>,<span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span>,sep<span class="op">=</span><span class="st">""</span>,collapse <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">max_setsize</span> <span class="op">&lt;-</span> <span class="fl">4</span></span></span>
<span class="r-in"><span><span class="va">setsdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">replicate</a></span><span class="op">(</span><span class="fl">20</span>,<span class="fu">random_set</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="va">max_setsize</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,nrow<span class="op">=</span><span class="fl">4</span>,ncol<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Computing the Intersect kernel:</span></span></span>
<span class="r-in"><span><span class="fu">Intersect</span><span class="op">(</span><span class="va">setsdata</span>,elements<span class="op">=</span><span class="va">LETTERS</span>,comp<span class="op">=</span><span class="st">"sum"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1  2  3  4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 15  2  0  3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  2 13  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  0  0 13  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  3  0  2 14</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Computing the Jaccard kernel weighting the variables:</span></span></span>
<span class="r-in"><span><span class="va">coeffs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fl">0.15</span>,<span class="fl">0.15</span>,<span class="fl">0.4</span>,<span class="fl">0.20</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">Jaccard</span><span class="op">(</span><span class="va">setsdata</span>,elements<span class="op">=</span><span class="va">LETTERS</span>,comp<span class="op">=</span><span class="st">"weighted"</span>,coeff<span class="op">=</span><span class="va">coeffs</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      1    2         3         4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 1.00 0.08 0.0000000 0.1300000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.08 1.00 0.0000000 0.0000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.00 0.00 1.0000000 0.1285714</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 0.13 0.00 0.1285714 1.0000000</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Elies Ramon.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

